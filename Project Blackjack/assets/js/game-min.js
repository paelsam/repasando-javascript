const myModule=(()=>{"use strict";let $=document,b=a=>$.querySelectorAll(a),a=a=>$.getElementById(a),c=a("ask"),d=a("stop"),e=a("new-game"),g=b("small"),h=b(".div-cards"),i=[],j=["C","D","H","S"],k=["A","K","Q","J"],l=[],f=(b=2)=>{i=m(),l=[];for(let a=0;a<b;a++)l.push(0);g.forEach(a=>a.innerText=0),h.forEach(a=>a.textContent=""),c.disabled=!1,d.disabled=!1},m=()=>{i=[];for(let a=2;a<=10;a++)for(let b of j)i.push(a+b);for(let c of k)for(let d of j)i.push(c+d);return _.shuffle(i)},n=()=>{let a=_.random(0,i.length-1),b=i[a];return i.splice(a,1),b||(()=>{throw"There are not cards"})()},o=b=>{let a=b.substring(0,b.length-1);return isNaN(a)?"A"===a?11:10:Number(a)},p=(b,a)=>(l[a]+=o(b),g[a].textContent=l[a],l[a]),q=(b,c)=>{let a=$.createElement("img");a.src=`assets/cartas/${b}.png`,a.alt="Card",a.classList.add("card"),h[c].appendChild(a)},r=()=>{let[a,b]=l;setTimeout(()=>{a===b?alert("DRAW"):a>21?alert("YOU LOSE, COMPUTER WINS"):b>21||21===a?alert("YOU WIN"):alert("COMPUTER WINS")},100)},s=a=>{let b=0;do{let c=n();b=p(c,l.length-1),q(c,l.length-1)}while(b<a&&a<21)r()};return c.addEventListener("click",()=>{let b=n(),a=p(b,0);q(b,0),a>21?(console.info("%c Sorry, you lost \u{1F47A}","color: red; font-size: 15px; font-weight: bold;"),c.disabled=!0,d.disabled=!0,s(a)):21===a&&(console.info("%c 21, You got Lucky \u{1F47A}","color: green; font-size: 15px; font-weight: bold;"),c.disabled=!0,d.disabled=!0,s(a))}),d.addEventListener("click",()=>{c.disabled=!0,d.disabled=!0;let a=l[0];s(a)}),e.addEventListener("click",()=>{f()}),{iniciarJuego:f}})()
